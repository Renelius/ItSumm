buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:6.1.0'

    }
}

apply plugin: 'scala'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'java'

repositories {
    mavenLocal()
    mavenCentral()
 }

dependencies{
    compile "org.apache.spark:spark-core_2.11:2.4.7"
    //compileOnly "org.apache.spark:spark-core_2.11:2.4.7"
    compile "org.scala-lang:scala-library:2.11.12"
    //compileOnly "org.scala-lang:scala-library:2.11.12"
    compile "org.apache.spark:spark-streaming_2.11:2.4.7"
    //compileOnly "org.apache.spark:spark-streaming_2.11:2.4.7"
    compile "org.apache.spark:spark-streaming-kafka-0-10_2.11:2.4.7"
    implementation "org.apache.spark:spark-streaming-kafka-0-10_2.11:2.4.7"// соеденяется в общий jar
    compile "org.apache.spark:spark-sql_2.11:2.4.7"
    //compileOnly "org.apache.spark:spark-sql_2.11:2.4.7"
    compile "com.vividsolutions:jts:1.13"
}



shadowJar {
    zip64 true
    mergeServiceFiles()
    archiveBaseName.set('kirill-shadow_kafka')
    exclude "META-INF/*.SF"
    exclude 'META-INF/*.DSA'
    exclude 'META-INF/*.RSA'
    exclude "LICENSE*"
}

